<title>Cookies</title>
<script language="JavaScript">


        var lastlogout;

        var now=new Date()
        var day=now.getDay()

        if (day==0) day="Sunday  ";
        else if (day==1) day="Monday  ";
        else if (day==2) day="Tuesday  ";
        else if (day==3) day="Wednesday  ";
        else if (day==4) day="Thursday  ";
        else if (day==5) day="Friday  ";
        else if (day==6) day="Saturday ";

        now=" "+day+" "+now.getDate()+"/"+(now.getMonth()+1)+"/"+now.getYear()+" at "+now.getHours()+":"+now.getMinutes()+":"+now.getSeconds()+"</font>"

        var lastvisit;
        var username;
        var guest = "Guest";
        var expdate = new Date();
        var visits;
      pathname = location.pathname;
      var myDomain = pathname.substring(0,pathname.lastIndexOf('/')) +'/';
        var largeExpDate = new Date();
      largeExpDate.setTime(largeExpDate.getTime() + (60 * 24 * 3600 * 1000));
        expdate.setTime(expdate.getTime() +  (24 * 60 * 60 * 1000 * 365)); 

//========================================================================


function writename() {

username = prompt('Please enter your name:',"");
if (username == "" ) 
{
 alert('It is ok if you want to remain anonymous!');
 username = guest;
}
if (username == null ) 
{
alert('Oi!');
}
else 
{
pathname = location.pathname;
myDomain = pathname.substring(0,pathname.lastIndexOf('/')) +'/';
var largeExpDate = new Date ();
largeExpDate.setTime(largeExpDate.getTime() + (60 * 24 * 3600 * 1000));
SetCookie('username',username,largeExpDate,myDomain);
}
}

//========================================================================

function DeleteCookie ()
{
pathname = location.pathname;
myDomain = pathname.substring(0,pathname.lastIndexOf('/')) +'/';
var largeExpDate = new Date();
largeExpDate.setTime(largeExpDate.getTime() + (60 * 24 * 3600 * -1000));
SetCookie('username',"unknown",largeExpDate,myDomain);
SetCookie("visits",0, expdate, "/", null, false);
SetCookie('last',"none",expdate,myDomain);
    alert("\nThe Cookie has been deleted.");
}

//========================================================================

function getCookieVal (offset) 
{
var endstr = document.cookie.indexOf (";", offset);
if (endstr == -1)
   endstr = document.cookie.length;
   return unescape(document.cookie.substring(offset, endstr));
}

//========================================================================

function GetCookie (name)
{
 var arg = name + "=";
 var alen = arg.length;
 var clen = document.cookie.length;
 var i = 0;

 while (i < clen) 
 {           
  var j = i + alen;                                                                        
  if (document.cookie.substring(i, j) == arg)
      return getCookieVal (j);
      i = document.cookie.indexOf(" ", i) + 1;
  if (i == 0) 
      break; 
 }                  

return null;
}

//========================================================================


function SetCookie (name, value)
{
var argv = SetCookie.arguments;
var argc = SetCookie.arguments.length;
var expires = (2 < argc) ? argv[2] : null;
var path = (3 < argc) ? argv[3] : null;
var domain = (4 < argc) ? argv[4] : null;
var secure = (5 < argc) ? argv[5] : false;
document.cookie = name + "=" + escape (value) +
     ((expires == null) ? "" : ("; expires=" + expires)) +
     ((path == null) ? "" : ("; path=" + path)) +
     ((domain == null) ? "" : ("; domain=" + domain)) +
     ((secure == true) ? "; secure" : "");
}

//========================================================================

function logoff()
{
        var logofftime= new Date();
        logofftime="<font color=green>"+logofftime.getHours()+":"+logofftime.getMinutes()+":"+logofftime.getSeconds()+"</font>";
        SetCookie("lastoff",logofftime,largeExpDate,myDomain);
}

// function for recording dates for the logins
//end of the recording

if(!(visits = GetCookie("visits"))) 

visits = 0; visits++;

SetCookie("visits", visits, expdate, "/", null, false);

if (visits ==1){ var time=" time."} else {var time=" times."}



</script>



<script language="JavaScript">


username = GetCookie('username');

if(!(username =  GetCookie('username'))) {writename()}
if (username == "" ||username == "unknown") { writename() }

if (GetCookie('last')=="none" || GetCookie('last')==null )  
{
        newcomer()
}
else 
{
lastvisit=GetCookie('last')
regular()       
}

// new function for recording dates for the logins

function newcomer()
{
document.write("<font size=-1>First time logged on &nbsp;  "+now+"</font><br>");
        SetCookie("last",now,largeExpDate,myDomain);
        SetCookie("first",now,largeExpDate,myDomain);
        }

function regular()
{
        var firstvisit=GetCookie('first');
        lastlogout=     GetCookie('lastoff')
        document.write("User logged in on "+now+"<br>");
        document.write("Last logged in on  "+ lastvisit);
        document.write(" until "+lastlogout+" .<br>");
        document.write("Your first time login on this page was was on "+ firstvisit+"</font>");
        SetCookie("last",now,largeExpDate,myDomain);
}
// function for recording dates for the logins


document.write("<br>Hello "+username+"<BR>");
document.write("This is your visit no. "+visits+"&nbsp;</strong></font><br>");


</script>
