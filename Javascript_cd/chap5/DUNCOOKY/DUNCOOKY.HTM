
<HTML>

<HEAD>
  <TITLE>Duncan's Multi-Cookie Page</TITLE>
  <SCRIPT language="JavaScript">

  <!-- Hide from older browsers
// Original JavaScript code by Duncan Crombie: dcrombie@ozemail.com.au
// Please acknowledge use of this code by including this header.

  var bikky = document.cookie;

  function getCookie(name) {
    var index = bikky.indexOf(name + "=");
    if (index == -1) return null;
    index = bikky.indexOf("=", index) + 1;
    var endstr = bikky.indexOf(";", index);
    if (endstr == -1) endstr = bikky.length;
    return unescape(bikky.substring(index, endstr));
  }

  var today = new Date();
  var expiry = new Date(today.getTime() + 28 * 24 * 60 * 60 * 1000);

  function setCookie(name) {
    document.cookie = eval('"' + name + '=" + escape(' + name + ') + "; expires=' + expiry.toGMTString() + '"');
    bikky = document.cookie;
  }

  function blankArray(arrayLength) {
    this.length = arrayLength;
    for (var i=0; i < this.length; i++)
      this[i] = "";
  }

  function defineCookie(newData) {
    userData = newData[0];
    for (var i=1; i < newData.length; i++)
      userData += "!" + newData[i];
    setCookie("userData");
  }

// data[0] = bgcolour; data[1] = userName; data[2] = headCount
  var userData = getCookie("userData");
  if (userData == null)
    userData = "black!Anonymous!0";

  var numVars = 1;
  var start = userData.indexOf("!") + 1;
  while (start != 0) {
    numVars++;
    start = userData.indexOf("!", start) + 1;
  }
  var data = new blankArray(numVars);
  for (var i=0; i < data.length; i++) {
    var end = userData.indexOf("!", start);
    if (end == -1) end = userData.length;
    data[i] = userData.substring(start, end);
    start = end + 1;
  }

  // Stop hiding -->
  

</SCRIPT>
</HEAD>

<BODY bgcolor="black" text="white" link="yellow" alink="lime" vlink="skyblue" onLoad="document.bgColor=data[0];">


<SCRIPT language="JavaScript">

<!-- Hide from older browsers
// write personal greeting
  userName = data[1];
  if (userName != null) document.write("Hello " + userName + " ");
  document.writeln("<p>");
// Stop hiding -->

</SCRIPT>

<SCRIPT language="JavaScript">

<!-- Hide from older browsers
// write line of asterisks with length <headCount>
  headCount = data[2];
  if (headCount != null) {
    document.writeln("<DIV align='center'>");
    for (var i=0; i < headCount && i != null; i++)
      document.write("* ");
  }
  document.writeln("</DIV><p>");
// Stop hiding -->

</SCRIPT>

The code is not written for a set number of cookies so it is easily customisable for use on other pages.  The form below allows you to change the values of the three variables.  Enter the desired values and press [Set Cookie].  To view the contents of or delete this cookie go back to the Cookie Test Page.<p>

As with the other page you can set the following name=value pairs and then <A href="JavaScript: history.go(0);">reload this page</A> to see some cookies in action:  <tt><b>bgcolour=red</b></tt>, <tt><b>userName=your name</b></tt>, or <tt><b>headCount=99</b></tt>.  The difference is that only one cookie need be stored at any time.<p>

<FORM name="cookieTest" method="post">
<DIV align="center"><TABLE border>
<TR><TD><strong>Background: </strong>
<TD><INPUT name="data0" type="text" value="black" size="30">
<TR><TD><strong>Your Name: </strong>
<TD><INPUT name="data1" type="text" value="Anonymous" size="30">
<TR><TD><strong>Head Count: </strong>
<TD><INPUT name="data2" type="text" value="10" size="30">
<TR><TD align="right" colspan="2"><INPUT type="button" value="Set Multi-Cookie" onClick="
  with (this.form) {
    data[0] = data0.value;
    data[1] = data1.value;
    data[2] = data2.value;
  }
  defineCookie(data);
">
</TABLE></DIV></FORM><p>



</BODY>

</HTML>